name = "toran-proxy"
main = "worker/src/index.ts"
compatibility_date = "2024-12-01"

# Environment variables (use wrangler secret for sensitive data)
[vars]
ENVIRONMENT = "production"

# Secrets (set via: wrangler secret put SECRET_NAME)
# MONGODB_API_URL - MongoDB Data API endpoint
# MONGODB_API_KEY - API key for MongoDB Data API
# MONGODB_DATABASE - Database name (e.g., "toran")

# KV namespace for caching (REQUIRED for Phase 3 caching features)
# Create KV namespace: wrangler kv:namespace create CACHE
# Then update the id below with the output
[[kv_namespaces]]
binding = "CACHE"
id = "YOUR_KV_NAMESPACE_ID_HERE"
preview_id = "YOUR_PREVIEW_KV_NAMESPACE_ID_HERE"

# Routes - Handle all subdomains of toran.dev
# Configure after domain is added to Cloudflare
# routes = [
#   { pattern = "*.toran.dev/*", zone_name = "toran.dev" }
# ]

# Resource limits
[limits]
cpu_ms = 50

# Development environment
[env.dev]
name = "toran-proxy-dev"
routes = []
